{"version":3,"sources":["components/Content/MintNFT/MintForm.js","store/web3-context.js","store/collection-context.js","store/Web3Provider.js","store/CollectionProvider.js","store/marketplace-context.js","store/MarketplaceProvider.js","connection/web3.js","helpers/utils.js","components/Layout/Navbar.js","img/eth.png","components/Content/NFTCollection/NFTCollection.js","components/Layout/Spinner.js","img/logo2.png","components/Content/Main.js","App.js","index.js"],"names":["ipfs","require","create","host","port","protocol","MintForm","useState","enteredName","setEnteredName","descriptionIsValid","setDescriptionIsValid","enteredDescription","setEnteredDescription","nameIsValid","setNameIsValid","capturedFileBuffer","setCapturedFileBuffer","fileIsValid","setFileIsValid","web3Ctx","useContext","Web3Context","collectionCtx","CollectionContext","nameClass","descriptionClass","fileClass","onSubmit","event","preventDefault","a","add","fileAdded","console","error","metadata","title","type","properties","name","description","image","path","JSON","stringify","metadataAdded","contract","methods","safeMint","send","from","account","on","hash","setNftIsLoading","e","window","alert","mintNFT","className","placeholder","value","onChange","target","file","files","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","result","React","createContext","networkId","loadAccount","loadNetworkId","totalSupply","collection","nftIsLoading","loadContract","loadTotalSupply","loadCollection","updateTotalSupply","updateCollection","updateOwner","defaultWeb3State","web3Reducer","state","action","Web3Provider","props","useReducer","web3State","dispatchWeb3Action","loadAccountHandler","web3","eth","getAccounts","accounts","loadNetworkIdHandler","net","getId","web3Context","Provider","children","defaultCollectionState","collectionReducer","findIndex","NFT","id","parseInt","index","owner","newOwner","loading","CollectionProvider","CollectionState","dispatchCollectionAction","loadTotalSupplyHandler","call","loadCollectionHandler","i","tokenURIs","fetch","response","ok","Error","json","ownerOf","img","updateCollectionHandler","tokenURI","collectionContext","NFTCollection","deployedNetwork","Contract","abi","address","MarketplaceContext","offerCount","offers","userFunds","mktIsLoading","loadOfferCount","loadOffers","updateOffer","addOffer","loadUserFunds","setMktIsLoading","defaultMarketplaceState","marketplaceReducer","filter","offer","offerId","user","price","fulfilled","cancelled","MarketplaceProvider","MarketplaceState","dispatchMarketplaceAction","loadOfferCountHandler","loadOffersHandler","push","map","loadUserFundsHandler","marketplaceContext","NFTMarketplace","ethereum","Web3","DECIMALS","formatPrice","Math","round","Navbar","etherscanUrl","fundsLoading","setFundsLoading","marketplaceCtx","connectWalletHandler","request","method","events","ClaimFunds","log","onClick","claimFunds","class","role","href","rel","priceRefs","useRef","current","length","Array","fill","_","createRef","buyHandler","buyIndex","fillOffer","cancelHandler","cancelIndex","cancelOffer","key","toFixed","src","alt","substr","width","height","enteredPrice","utils","toWei","approve","options","receipt","makeOffer","makeOfferHandler","step","ref","Spinner","Main","logo","App","useEffect","nftDeployedNetwork","networks","nftContract","mktDeployedNetwork","mktContract","Transfer","returnValues","tokenId","to","OfferFilled","Offer","OfferCancelled","chainId","location","reload","loadBlockchainData","showNavbar","showContent","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c88d20aa.chunk.js","sourcesContent":["import { useState, useContext } from \"react\";\n\nimport Web3Context from \"../../../store/web3-context\";\nimport CollectionContext from \"../../../store/collection-context\";\n\nconst ipfsClient = require(\"ipfs-http-client\");\nconst ipfs = ipfsClient.create({\n  host: \"ipfs.infura.io\",\n  port: 5001,\n  protocol: \"https\",\n});\n\nconst MintForm = () => {\n  const [enteredName, setEnteredName] = useState(\"\");\n  const [descriptionIsValid, setDescriptionIsValid] = useState(true);\n\n  const [enteredDescription, setEnteredDescription] = useState(\"\");\n  const [nameIsValid, setNameIsValid] = useState(true);\n\n  const [capturedFileBuffer, setCapturedFileBuffer] = useState(null);\n  const [fileIsValid, setFileIsValid] = useState(true);\n\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n\n  const enteredNameHandler = (event) => {\n    setEnteredName(event.target.value);\n  };\n\n  const enteredDescriptionHandler = (event) => {\n    setEnteredDescription(event.target.value);\n  };\n\n  const captureFile = (event) => {\n    event.preventDefault();\n\n    const file = event.target.files[0];\n\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      setCapturedFileBuffer(Buffer(reader.result));\n    };\n  };\n\n  const submissionHandler = (event) => {\n    event.preventDefault();\n\n    enteredName ? setNameIsValid(true) : setNameIsValid(false);\n    enteredDescription\n      ? setDescriptionIsValid(true)\n      : setDescriptionIsValid(false);\n    capturedFileBuffer ? setFileIsValid(true) : setFileIsValid(false);\n\n    const formIsValid = enteredName && enteredDescription && capturedFileBuffer;\n\n    // Upload file to IPFS and push to the blockchain\n    const mintNFT = async () => {\n      // Add file to the IPFS\n      const fileAdded = await ipfs.add(capturedFileBuffer);\n      if (!fileAdded) {\n        console.error(\"Something went wrong when updloading the file\");\n        return;\n      }\n\n      const metadata = {\n        title: \"Asset Metadata\",\n        type: \"object\",\n        properties: {\n          name: {\n            type: \"string\",\n            description: enteredName,\n          },\n          description: {\n            type: \"string\",\n            description: enteredDescription,\n          },\n          image: {\n            type: \"string\",\n            description: fileAdded.path,\n          },\n        },\n      };\n\n      const metadataAdded = await ipfs.add(JSON.stringify(metadata));\n      if (!metadataAdded) {\n        console.error(\"Something went wrong when updloading the file\");\n        return;\n      }\n\n      collectionCtx.contract.methods\n        .safeMint(metadataAdded.path)\n        .send({ from: web3Ctx.account })\n        .on(\"transactionHash\", (hash) => {\n          collectionCtx.setNftIsLoading(true);\n        })\n        .on(\"error\", (e) => {\n          window.alert(\"Something went wrong when pushing to the blockchain\");\n          collectionCtx.setNftIsLoading(false);\n        });\n    };\n\n    formIsValid && mintNFT();\n  };\n\n  const nameClass = nameIsValid ? \"form-control\" : \"form-control is-invalid\";\n  const descriptionClass = descriptionIsValid\n    ? \"form-control\"\n    : \"form-control is-invalid\";\n  const fileClass = fileIsValid ? \"form-control\" : \"form-control is-invalid\";\n\n  return (\n    <form onSubmit={submissionHandler}>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-2\">\n          <input\n            type=\"text\"\n            className={`${nameClass} mb-1`}\n            placeholder=\"Name...\"\n            value={enteredName}\n            onChange={enteredNameHandler}\n          />\n        </div>\n        <div className=\"col-md-6\">\n          <input\n            type=\"text\"\n            className={`${descriptionClass} mb-1`}\n            placeholder=\"Description...\"\n            value={enteredDescription}\n            onChange={enteredDescriptionHandler}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <input\n            type=\"file\"\n            className={`${fileClass} mb-1`}\n            onChange={captureFile}\n          />\n        </div>\n      </div>\n      <button\n        type=\"submit\"\n        className=\"btn btn-lg btn-info text-white btn-block\"\n      >\n        MINT\n      </button>\n    </form>\n  );\n};\n\nexport default MintForm;\n","import React from \"react\";\n\nconst Web3Context = React.createContext({\n  account: null,\n  networkId: null,\n  loadAccount: () => {},\n  loadNetworkId: () => {},\n});\n\nexport default Web3Context;\n","import React from \"react\";\n\nconst CollectionContext = React.createContext({\n  contract: null,\n  totalSupply: null,\n  collection: [],\n  nftIsLoading: true,\n  loadContract: () => {},\n  loadTotalSupply: () => {},\n  loadCollection: () => {},\n  updateTotalSupply: () => {},\n  updateCollection: () => {},\n  updateOwner: () => {},\n  setNftIsLoading: () => {},\n});\n\nexport default CollectionContext;\n","import { useReducer } from \"react\";\n\nimport Web3Context from \"./web3-context\";\n\nconst defaultWeb3State = {\n  account: null,\n  networkId: null,\n};\n\nconst web3Reducer = (state, action) => {\n  if (action.type === \"ACCOUNT\") {\n    return {\n      account: action.account,\n      networkId: state.networkId,\n    };\n  }\n\n  if (action.type === \"NETWORKID\") {\n    return {\n      account: state.account,\n      networkId: action.networkId,\n    };\n  }\n\n  return defaultWeb3State;\n};\n\nconst Web3Provider = (props) => {\n  const [web3State, dispatchWeb3Action] = useReducer(\n    web3Reducer,\n    defaultWeb3State\n  );\n\n  const loadAccountHandler = async (web3) => {\n    const accounts = await web3.eth.getAccounts();\n    const account = accounts[0];\n    dispatchWeb3Action({ type: \"ACCOUNT\", account: account });\n    return account;\n  };\n\n  const loadNetworkIdHandler = async (web3) => {\n    const networkId = await web3.eth.net.getId();\n    dispatchWeb3Action({ type: \"NETWORKID\", networkId: networkId });\n    return networkId;\n  };\n\n  const web3Context = {\n    account: web3State.account,\n    networkId: web3State.networkId,\n    loadAccount: loadAccountHandler,\n    loadNetworkId: loadNetworkIdHandler,\n  };\n\n  return (\n    <Web3Context.Provider value={web3Context}>\n      {props.children}\n    </Web3Context.Provider>\n  );\n};\n\nexport default Web3Provider;\n","import { useReducer } from \"react\";\n\nimport CollectionContext from \"./collection-context\";\n\nconst defaultCollectionState = {\n  contract: null,\n  totalSupply: null,\n  collection: [],\n  nftIsLoading: true,\n};\n\nconst collectionReducer = (state, action) => {\n  if (action.type === \"CONTRACT\") {\n    return {\n      contract: action.contract,\n      totalSupply: state.totalSupply,\n      collection: state.collection,\n      nftIsLoading: state.nftIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADSUPPLY\") {\n    return {\n      contract: state.contract,\n      totalSupply: action.totalSupply,\n      collection: state.collection,\n      nftIsLoading: state.nftIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADCOLLECTION\") {\n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: action.collection,\n      nftIsLoading: state.nftIsLoading,\n    };\n  }\n\n  if (action.type === \"UPDATECOLLECTION\") {\n    const index = state.collection.findIndex(\n      (NFT) => NFT.id === parseInt(action.NFT.id)\n    );\n    let collection = [];\n\n    if (index === -1) {\n      collection = [action.NFT, ...state.collection];\n    } else {\n      collection = [...state.collection];\n    }\n\n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: collection,\n      nftIsLoading: state.nftIsLoading,\n    };\n  }\n\n  if (action.type === \"UPDATEOWNER\") {\n    const index = state.collection.findIndex(\n      (NFT) => NFT.id === parseInt(action.id)\n    );\n    let collection = [...state.collection];\n    collection[index].owner = action.newOwner;\n\n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: collection,\n      nftIsLoading: state.nftIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADING\") {\n    return {\n      contract: state.contract,\n      totalSupply: state.totalSupply,\n      collection: state.collection,\n      nftIsLoading: action.loading,\n    };\n  }\n\n  return defaultCollectionState;\n};\n\nconst CollectionProvider = (props) => {\n  const [CollectionState, dispatchCollectionAction] = useReducer(\n    collectionReducer,\n    defaultCollectionState\n  );\n\n  const loadContractHandler = (web3, NFTCollection, deployedNetwork) => {\n    const contract = deployedNetwork\n      ? new web3.eth.Contract(NFTCollection.abi, deployedNetwork.address)\n      : \"\";\n    dispatchCollectionAction({ type: \"CONTRACT\", contract: contract });\n    return contract;\n  };\n\n  const loadTotalSupplyHandler = async (contract) => {\n    const totalSupply = await contract.methods.totalSupply().call();\n    dispatchCollectionAction({ type: \"LOADSUPPLY\", totalSupply: totalSupply });\n    return totalSupply;\n  };\n\n  const loadCollectionHandler = async (contract, totalSupply) => {\n    let collection = [];\n\n    for (let i = 0; i < totalSupply; i++) {\n      const hash = await contract.methods.tokenURIs(i).call();\n      try {\n        const response = await fetch(\n          `https://ipfs.infura.io/ipfs/${hash}?clear`\n        );\n        if (!response.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n\n        const metadata = await response.json();\n        const owner = await contract.methods.ownerOf(i + 1).call();\n\n        collection = [\n          {\n            id: i + 1,\n            title: metadata.properties.name.description,\n            img: metadata.properties.image.description,\n            owner: owner,\n          },\n          ...collection,\n        ];\n      } catch {\n        console.error(\"Something went wrong\");\n      }\n    }\n    dispatchCollectionAction({\n      type: \"LOADCOLLECTION\",\n      collection: collection,\n    });\n  };\n\n  const updateCollectionHandler = async (contract, id, owner) => {\n    let NFT;\n    const hash = await contract.methods.tokenURI(id).call();\n    try {\n      const response = await fetch(`https://ipfs.infura.io/ipfs/${hash}?clear`);\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const metadata = await response.json();\n\n      NFT = {\n        id: parseInt(id),\n        title: metadata.properties.name.description,\n        img: metadata.properties.image.description,\n        owner: owner,\n      };\n    } catch {\n      console.error(\"Something went wrong\");\n    }\n    dispatchCollectionAction({ type: \"UPDATECOLLECTION\", NFT: NFT });\n  };\n\n  const updateOwnerHandler = (id, newOwner) => {\n    dispatchCollectionAction({\n      type: \"UPDATEOWNER\",\n      id: id,\n      newOwner: newOwner,\n    });\n  };\n\n  const setNftIsLoadingHandler = (loading) => {\n    dispatchCollectionAction({ type: \"LOADING\", loading: loading });\n  };\n\n  const collectionContext = {\n    contract: CollectionState.contract,\n    totalSupply: CollectionState.totalSupply,\n    collection: CollectionState.collection,\n    nftIsLoading: CollectionState.nftIsLoading,\n    loadContract: loadContractHandler,\n    loadTotalSupply: loadTotalSupplyHandler,\n    loadCollection: loadCollectionHandler,\n    updateCollection: updateCollectionHandler,\n    updateOwner: updateOwnerHandler,\n    setNftIsLoading: setNftIsLoadingHandler,\n  };\n\n  return (\n    <CollectionContext.Provider value={collectionContext}>\n      {props.children}\n    </CollectionContext.Provider>\n  );\n};\n\nexport default CollectionProvider;\n","import React from \"react\";\n\nconst MarketplaceContext = React.createContext({\n  contract: null,\n  offerCount: null,\n  offers: [],\n  userFunds: null,\n  mktIsLoading: true,\n  loadContract: () => {},\n  loadOfferCount: () => {},\n  loadOffers: () => {},\n  updateOffer: () => {},\n  addOffer: () => {},\n  loadUserFunds: () => {},\n  setMktIsLoading: () => {},\n});\n\nexport default MarketplaceContext;\n","import { useReducer } from \"react\";\n\nimport MarketplaceContext from \"./marketplace-context\";\n\nconst defaultMarketplaceState = {\n  contract: null,\n  offerCount: null,\n  offers: [],\n  userFunds: null,\n  mktIsLoading: true,\n};\n\nconst marketplaceReducer = (state, action) => {\n  if (action.type === \"CONTRACT\") {\n    return {\n      contract: action.contract,\n      offerCount: state.offerCount,\n      offers: state.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADOFFERCOUNT\") {\n    return {\n      contract: state.contract,\n      offerCount: action.offerCount,\n      offers: state.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADOFFERS\") {\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: action.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading,\n    };\n  }\n\n  if (action.type === \"UPDATEOFFER\") {\n    const offers = state.offers.filter(\n      (offer) => offer.offerId !== parseInt(action.offerId)\n    );\n\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading,\n    };\n  }\n\n  if (action.type === \"ADDOFFER\") {\n    const index = state.offers.findIndex(\n      (offer) => offer.offerId === parseInt(action.offer.offerId)\n    );\n    let offers = [];\n\n    if (index === -1) {\n      offers = [\n        ...state.offers,\n        {\n          offerId: parseInt(action.offer.offerId),\n          id: parseInt(action.offer.id),\n          user: action.offer.user,\n          price: parseInt(action.offer.price),\n          fulfilled: false,\n          cancelled: false,\n        },\n      ];\n    } else {\n      offers = [...state.offers];\n    }\n\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: offers,\n      userFunds: state.userFunds,\n      mktIsLoading: state.mktIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADFUNDS\") {\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: state.offers,\n      userFunds: action.userFunds,\n      mktIsLoading: state.mktIsLoading,\n    };\n  }\n\n  if (action.type === \"LOADING\") {\n    return {\n      contract: state.contract,\n      offerCount: state.offerCount,\n      offers: state.offers,\n      userFunds: state.userFunds,\n      mktIsLoading: action.loading,\n    };\n  }\n\n  return defaultMarketplaceState;\n};\n\nconst MarketplaceProvider = (props) => {\n  const [MarketplaceState, dispatchMarketplaceAction] = useReducer(\n    marketplaceReducer,\n    defaultMarketplaceState\n  );\n\n  const loadContractHandler = (web3, NFTMarketplace, deployedNetwork) => {\n    const contract = deployedNetwork\n      ? new web3.eth.Contract(NFTMarketplace.abi, deployedNetwork.address)\n      : \"\";\n    dispatchMarketplaceAction({ type: \"CONTRACT\", contract: contract });\n    return contract;\n  };\n\n  const loadOfferCountHandler = async (contract) => {\n    const offerCount = await contract.methods.offerCount().call();\n    dispatchMarketplaceAction({\n      type: \"LOADOFFERCOUNT\",\n      offerCount: offerCount,\n    });\n    return offerCount;\n  };\n\n  const loadOffersHandler = async (contract, offerCount) => {\n    let offers = [];\n    for (let i = 0; i < offerCount; i++) {\n      const offer = await contract.methods.offers(i + 1).call();\n      offers.push(offer);\n    }\n    offers = offers\n      .map((offer) => {\n        offer.offerId = parseInt(offer.offerId);\n        offer.id = parseInt(offer.id);\n        offer.price = parseInt(offer.price);\n        return offer;\n      })\n      .filter(\n        (offer) => offer.fulfilled === false && offer.cancelled === false\n      );\n    dispatchMarketplaceAction({ type: \"LOADOFFERS\", offers: offers });\n  };\n\n  const updateOfferHandler = (offerId) => {\n    dispatchMarketplaceAction({ type: \"UPDATEOFFER\", offerId: offerId });\n  };\n\n  const addOfferHandler = (offer) => {\n    dispatchMarketplaceAction({ type: \"ADDOFFER\", offer: offer });\n  };\n\n  const loadUserFundsHandler = async (contract, account) => {\n    const userFunds = await contract.methods.userFunds(account).call();\n    dispatchMarketplaceAction({ type: \"LOADFUNDS\", userFunds: userFunds });\n    return userFunds;\n  };\n\n  const setMktIsLoadingHandler = (loading) => {\n    dispatchMarketplaceAction({ type: \"LOADING\", loading: loading });\n  };\n\n  const marketplaceContext = {\n    contract: MarketplaceState.contract,\n    offerCount: MarketplaceState.offerCount,\n    offers: MarketplaceState.offers,\n    userFunds: MarketplaceState.userFunds,\n    mktIsLoading: MarketplaceState.mktIsLoading,\n    loadContract: loadContractHandler,\n    loadOfferCount: loadOfferCountHandler,\n    loadOffers: loadOffersHandler,\n    updateOffer: updateOfferHandler,\n    addOffer: addOfferHandler,\n    loadUserFunds: loadUserFundsHandler,\n    setMktIsLoading: setMktIsLoadingHandler,\n  };\n\n  return (\n    <MarketplaceContext.Provider value={marketplaceContext}>\n      {props.children}\n    </MarketplaceContext.Provider>\n  );\n};\n\nexport default MarketplaceProvider;\n","import Web3 from \"web3\";\n\n// Web 3 connection\nconst web3 = window.ethereum ? new Web3(window.ethereum) : null;\n\nexport default web3;\n","export const DECIMALS = 10 ** 18;\n\nexport const ether = (wei) => wei / DECIMALS;\n\nexport const formatPrice = (price) => {\n  const precision = 100; // Use 2 decimal places\n\n  price = ether(price);\n  price = Math.round(price * precision) / precision;\n\n  return price;\n};\n","import { useContext, useState } from \"react\";\n\nimport Web3Context from \"../../store/web3-context\";\nimport MarketplaceContext from \"../../store/marketplace-context\";\nimport web3 from \"../../connection/web3\";\nimport { formatPrice } from \"../../helpers/utils\";\n\nconst Navbar = () => {\n  const [fundsLoading, setFundsLoading] = useState(false);\n\n  const web3Ctx = useContext(Web3Context);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  const connectWalletHandler = async () => {\n    try {\n      // Request account access\n      await window.ethereum.request({ method: \"eth_requestAccounts\" });\n    } catch (error) {\n      console.error(error);\n    }\n\n    // Load accounts\n    web3Ctx.loadAccount(web3);\n  };\n\n  const claimFundsHandler = () => {\n    marketplaceCtx.contract.methods\n      .claimFunds()\n      .send({ from: web3Ctx.account })\n      .on(\"transactionHash\", (hash) => {\n        setFundsLoading(true);\n      })\n      .on(\"error\", (error) => {\n        window.alert(\"Something went wrong when pushing to the blockchain\");\n        setFundsLoading(false);\n      });\n  };\n\n  // Event ClaimFunds subscription\n  marketplaceCtx.contract.events\n    .ClaimFunds()\n    .on(\"data\", (event) => {\n      marketplaceCtx.loadUserFunds(marketplaceCtx.contract, web3Ctx.account);\n      setFundsLoading(false);\n    })\n    .on(\"error\", (error) => {\n      console.log(error);\n    });\n\n  let etherscanUrl;\n\n  if (web3Ctx.networkId === 3) {\n    etherscanUrl = \"https://ropsten.etherscan.io\";\n  } else if (web3Ctx.networkId === 4) {\n    etherscanUrl = \"https://rinkeby.etherscan.io\";\n  } else if (web3Ctx.networkId === 5) {\n    etherscanUrl = \"https://goerli.etherscan.io\";\n  } else {\n    etherscanUrl = \"https://etherscan.io\";\n  }\n\n  return (\n    <nav className=\"navbar navbar-expand-sm navbar-light bg-white p-0\">\n      <ul className=\"navbar-nav ms-auto\">\n        <li className=\"nav-item\">\n          {marketplaceCtx.userFunds > 0 && !fundsLoading && (\n            <button\n              type=\"button\"\n              className=\"btn btn-info btn-block navbar-btn text-white\"\n              onClick={claimFundsHandler}\n            >\n              {`CLAIM ${formatPrice(marketplaceCtx.userFunds)} ETH`}\n            </button>\n          )}\n          {fundsLoading && (\n            <div class=\"d-flex justify-content-center text-info\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"sr-only\"></span>\n              </div>\n            </div>\n          )}\n        </li>\n        <li className=\"nav-item\">\n          {web3Ctx.account && (\n            <a\n              className=\"nav-link small\"\n              href={`${etherscanUrl}/address/${web3Ctx.account}`}\n              target=\"blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {web3Ctx.account}\n            </a>\n          )}\n          {!web3Ctx.account && (\n            <button\n              type=\"button\"\n              className=\"btn btn-info text-white\"\n              onClick={connectWalletHandler}\n            >\n              Connect your wallet\n            </button>\n          )}\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC/VBMVEUAAAAAAAAAAAAAAAA/AAAzMzMqKiokJCQfHx8cHBwZGRkuFxcqFSonJyckJCQiIiIfHx8eHh4cHBwoGhomGSYkJCQiIiIhISEfHx8eHh4nHR0lHBwkGyQjIyMiIiIgICAfHx8mHh4lHh4kHR0jHCMiGyIhISEgICAfHx8lHx8kHh4jHR0iHCIiHCIhISEgICAlHx8kHx8jHh4jHh4iHSIhHCEhISElICAkHx8jHx8jHh4iHh4iHSIhHSElICAkICAjHx8jHx8iHh4iHh4hHiEhHSEkICAjICAjHx8iHx8iHx8iHh4hHiEkHSEjHSAjICAjHx8iHx8iHx8hHh4kHiEkHiEjHSAjICAiHx8iHx8iHx8hHh4kHiEjHiAjHSAiICAiHx8iHx8hHx8kHh4jHiEjHiAjHiAiICAiHx8iHx8kHx8jHh4jHiEjHiAiHiAiHSAiHx8kHx8jHx8jHx8jHiAiHiAiHiAiHiAiHx8jHx8jHx8jHx8iHiAiHiAiHiAiHiAjHx8jHx8jHx8jHx8iHiAiHiAiHiAjHiAjHx8jHx8jHx8iHx8iHiAiHiAiHiAjHiAjHx8jHx8iHx8iHx8iHyAiHiAjHiAjHiAjHh8jHx8iHx8iHx8iHyAjHiAjHiAjHiAjHh8iHx8iHx8iHx8jHiAjHiAjHiAiHh8iHx8iHx8iHx8jHyAjHiAjHiAiHiAiHh8iHx8iHx8jHx8jHyAjHiAjHiAiHiAiHh8iHh8jHx8jHx8jHyAjHyAiHiAiHiAiHh8iHh8jHx8jHx8jHyAiHyAiHiAiHiAiHh8jHh8jHx8jHx8jHyAiHyAiHiAiHiAjHh8jHh8jHx8jHx8iHyAiHyAiHiAjHiAjHh8jHh8jHh8iHx8iHyAiHyAiHyAjHiAjHh8jHh8iHh8iHx8iHyAiHyAjHyAjHiAjHh8jHh8iHh8iHx8iHyAjHyAjHyAjHiAjHh8iHh8iHh8iHx8iHyAjHyAjHyAjHiAiHh8iHh8iHh8iHx8jHyAjHyAjHyAjHyCq0l2IAAAA/nRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BR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\"","import { useContext, useRef, createRef } from \"react\";\n\nimport web3 from \"../../../connection/web3\";\nimport Web3Context from \"../../../store/web3-context\";\nimport CollectionContext from \"../../../store/collection-context\";\nimport MarketplaceContext from \"../../../store/marketplace-context\";\nimport { formatPrice } from \"../../../helpers/utils\";\nimport eth from \"../../../img/eth.png\";\n\nconst NFTCollection = () => {\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  const priceRefs = useRef([]);\n  if (priceRefs.current.length !== collectionCtx.collection.length) {\n    priceRefs.current = Array(collectionCtx.collection.length)\n      .fill()\n      .map((_, i) => priceRefs.current[i] || createRef());\n  }\n\n  const makeOfferHandler = (event, id, key) => {\n    event.preventDefault();\n\n    const enteredPrice = web3.utils.toWei(\n      priceRefs.current[key].current.value,\n      \"ether\"\n    );\n\n    collectionCtx.contract.methods\n      .approve(marketplaceCtx.contract.options.address, id)\n      .send({ from: web3Ctx.account })\n      .on(\"transactionHash\", (hash) => {\n        marketplaceCtx.setMktIsLoading(true);\n      })\n      .on(\"receipt\", (receipt) => {\n        marketplaceCtx.contract.methods\n          .makeOffer(id, enteredPrice)\n          .send({ from: web3Ctx.account })\n          .on(\"error\", (error) => {\n            window.alert(\"Something went wrong when pushing to the blockchain\");\n            marketplaceCtx.setMktIsLoading(false);\n          });\n      });\n  };\n\n  const buyHandler = (event) => {\n    const buyIndex = parseInt(event.target.value);\n    marketplaceCtx.contract.methods\n      .fillOffer(marketplaceCtx.offers[buyIndex].offerId)\n      .send({\n        from: web3Ctx.account,\n        value: marketplaceCtx.offers[buyIndex].price,\n      })\n      .on(\"transactionHash\", (hash) => {\n        marketplaceCtx.setMktIsLoading(true);\n      })\n      .on(\"error\", (error) => {\n        window.alert(\"Something went wrong when pushing to the blockchain\");\n        marketplaceCtx.setMktIsLoading(false);\n      });\n  };\n\n  const cancelHandler = (event) => {\n    const cancelIndex = parseInt(event.target.value);\n    marketplaceCtx.contract.methods\n      .cancelOffer(marketplaceCtx.offers[cancelIndex].offerId)\n      .send({ from: web3Ctx.account })\n      .on(\"transactionHash\", (hash) => {\n        marketplaceCtx.setMktIsLoading(true);\n      })\n      .on(\"error\", (error) => {\n        window.alert(\"Something went wrong when pushing to the blockchain\");\n        marketplaceCtx.setMktIsLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"row text-center\">\n      {collectionCtx.collection.map((NFT, key) => {\n        const index = marketplaceCtx.offers\n          ? marketplaceCtx.offers.findIndex((offer) => offer.id === NFT.id)\n          : -1;\n        const owner =\n          index === -1 ? NFT.owner : marketplaceCtx.offers[index].user;\n        const price =\n          index !== -1\n            ? formatPrice(marketplaceCtx.offers[index].price).toFixed(2)\n            : null;\n\n        return (\n          <div key={key} className=\"col-md-2 m-3 pb-3 card border-info\">\n            <div className={\"card-body\"}>\n              <h5 className=\"card-title\">{NFT.title}</h5>\n            </div>\n            <img\n              src={`https://ipfs.infura.io/ipfs/${NFT.img}`}\n              className=\"card-img-bottom\"\n              alt={`NFT ${key}`}\n            />\n            <p className=\"fw-light fs-6\">{`${owner.substr(\n              0,\n              7\n            )}...${owner.substr(owner.length - 7)}`}</p>\n            {index !== -1 ? (\n              owner !== web3Ctx.account ? (\n                <div className=\"row\">\n                  <div className=\"d-grid gap-2 col-5 mx-auto\">\n                    <button\n                      onClick={buyHandler}\n                      value={index}\n                      className=\"btn btn-success\"\n                    >\n                      BUY\n                    </button>\n                  </div>\n                  <div className=\"col-7 d-flex justify-content-end\">\n                    <img\n                      src={eth}\n                      width=\"25\"\n                      height=\"25\"\n                      className=\"align-center float-start\"\n                      alt=\"price icon\"\n                    ></img>\n                    <p className=\"text-start\">\n                      <b>{`${price}`}</b>\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"row\">\n                  <div className=\"d-grid gap-2 col-5 mx-auto\">\n                    <button\n                      onClick={cancelHandler}\n                      value={index}\n                      className=\"btn btn-danger\"\n                    >\n                      CANCEL\n                    </button>\n                  </div>\n                  <div className=\"col-7 d-flex justify-content-end\">\n                    <img\n                      src={eth}\n                      width=\"25\"\n                      height=\"25\"\n                      className=\"align-center float-start\"\n                      alt=\"price icon\"\n                    ></img>\n                    <p className=\"text-start\">\n                      <b>{`${price}`}</b>\n                    </p>\n                  </div>\n                </div>\n              )\n            ) : owner === web3Ctx.account ? (\n              <form\n                className=\"row g-2\"\n                onSubmit={(e) => makeOfferHandler(e, NFT.id, key)}\n              >\n                <div className=\"col-5 d-grid gap-2\">\n                  <button type=\"submit\" className=\"btn btn-secondary\">\n                    OFFER\n                  </button>\n                </div>\n                <div className=\"col-7\">\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    placeholder=\"ETH...\"\n                    className=\"form-control\"\n                    ref={priceRefs.current[key]}\n                  />\n                </div>\n              </form>\n            ) : (\n              <p>\n                <br />\n              </p>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default NFTCollection;\n","const Spinner = () => {\n  return (\n    <div className=\"text-center mt-5\">\n      <div className=\"spinner-border text-info text-center\"></div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","export default __webpack_public_path__ + \"static/media/logo2.8ce4ae83.png\";","import { useContext } from \"react\";\n\nimport MintForm from \"./MintNFT/MintForm\";\nimport NFTCollection from \"./NFTCollection/NFTCollection\";\nimport CollectionContext from \"../../store/collection-context\";\nimport MarketplaceContext from \"../../store/marketplace-context\";\nimport Spinner from \"../Layout/Spinner\";\nimport logo from \"../../img/logo2.png\";\n\nconst Main = () => {\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  return (\n    <div className=\"container-fluid mt-2\">\n      <div className=\"row\">\n        <main\n          role=\"main\"\n          className=\"col-lg-12 justify-content-center text-center\"\n        >\n          <div className=\"content mr-auto ml-auto\">\n            <img\n              src={logo}\n              alt=\"logo\"\n              width=\"500\"\n              height=\"140\"\n              className=\"mb-2\"\n            />\n            {!collectionCtx.nftIsLoading && <MintForm />}\n            {collectionCtx.nftIsLoading && <Spinner />}\n          </div>\n        </main>\n      </div>\n      <hr />\n      {!marketplaceCtx.mktIsLoading && <NFTCollection />}\n      {marketplaceCtx.mktIsLoading && <Spinner />}\n    </div>\n  );\n};\n\nexport default Main;\n","import React, { useContext, useEffect } from \"react\";\n\nimport web3 from \"./connection/web3\";\nimport Navbar from \"./components/Layout/Navbar\";\nimport Main from \"./components/Content/Main\";\nimport Web3Context from \"./store/web3-context\";\nimport CollectionContext from \"./store/collection-context\";\nimport MarketplaceContext from \"./store/marketplace-context\";\nimport NFTCollection from \"./abis/NFTCollection.json\";\nimport NFTMarketplace from \"./abis/NFTMarketplace.json\";\n\nconst App = () => {\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  useEffect(() => {\n    // Check if the user has Metamask active\n    if (!web3) {\n      window.alert(\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n      );\n      return;\n    }\n\n    // Function to fetch all the blockchain data\n    const loadBlockchainData = async () => {\n      // Request accounts acccess if needed\n      try {\n        await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      } catch (error) {\n        console.error(error);\n      }\n\n      // Load account\n      const account = await web3Ctx.loadAccount(web3);\n\n      // Load Network ID\n      const networkId = await web3Ctx.loadNetworkId(web3);\n\n      // Load Contracts\n      const nftDeployedNetwork = NFTCollection.networks[networkId];\n      const nftContract = collectionCtx.loadContract(\n        web3,\n        NFTCollection,\n        nftDeployedNetwork\n      );\n\n      const mktDeployedNetwork = NFTMarketplace.networks[networkId];\n      const mktContract = marketplaceCtx.loadContract(\n        web3,\n        NFTMarketplace,\n        mktDeployedNetwork\n      );\n\n      if (nftContract) {\n        // Load total Supply\n        const totalSupply = await collectionCtx.loadTotalSupply(nftContract);\n\n        // Load Collection\n        collectionCtx.loadCollection(nftContract, totalSupply);\n\n        // Event subscription\n        nftContract.events\n          .Transfer()\n          .on(\"data\", (event) => {\n            collectionCtx.updateCollection(\n              nftContract,\n              event.returnValues.tokenId,\n              event.returnValues.to\n            );\n            collectionCtx.setNftIsLoading(false);\n          })\n          .on(\"error\", (error) => {\n            console.log(error);\n          });\n      } else {\n        window.alert(\n          \"NFTCollection contract not deployed to detected network.\"\n        );\n      }\n\n      if (mktContract) {\n        // Load offer count\n        const offerCount = await marketplaceCtx.loadOfferCount(mktContract);\n\n        // Load offers\n        marketplaceCtx.loadOffers(mktContract, offerCount);\n\n        // Load User Funds\n        account && marketplaceCtx.loadUserFunds(mktContract, account);\n\n        // Event OfferFilled subscription\n        mktContract.events\n          .OfferFilled()\n          .on(\"data\", (event) => {\n            marketplaceCtx.updateOffer(event.returnValues.offerId);\n            collectionCtx.updateOwner(\n              event.returnValues.id,\n              event.returnValues.newOwner\n            );\n            marketplaceCtx.setMktIsLoading(false);\n          })\n          .on(\"error\", (error) => {\n            console.log(error);\n          });\n\n        // Event Offer subscription\n        mktContract.events\n          .Offer()\n          .on(\"data\", (event) => {\n            marketplaceCtx.addOffer(event.returnValues);\n            marketplaceCtx.setMktIsLoading(false);\n          })\n          .on(\"error\", (error) => {\n            console.log(error);\n          });\n\n        // Event offerCancelled subscription\n        mktContract.events\n          .OfferCancelled()\n          .on(\"data\", (event) => {\n            marketplaceCtx.updateOffer(event.returnValues.offerId);\n            collectionCtx.updateOwner(\n              event.returnValues.id,\n              event.returnValues.owner\n            );\n            marketplaceCtx.setMktIsLoading(false);\n          })\n          .on(\"error\", (error) => {\n            console.log(error);\n          });\n      } else {\n        window.alert(\n          \"NFTMarketplace contract not deployed to detected network.\"\n        );\n      }\n\n      collectionCtx.setNftIsLoading(false);\n      marketplaceCtx.setMktIsLoading(false);\n\n      // Metamask Event Subscription - Account changed\n      window.ethereum.on(\"accountsChanged\", (accounts) => {\n        web3Ctx.loadAccount(web3);\n        accounts[0] && marketplaceCtx.loadUserFunds(mktContract, accounts[0]);\n      });\n\n      // Metamask Event Subscription - Network changed\n      window.ethereum.on(\"chainChanged\", (chainId) => {\n        window.location.reload();\n      });\n    };\n\n    loadBlockchainData();\n  }, []);\n\n  const showNavbar = web3 && collectionCtx.contract && marketplaceCtx.contract;\n  const showContent =\n    web3 &&\n    collectionCtx.contract &&\n    marketplaceCtx.contract &&\n    web3Ctx.account;\n\n  return (\n    <React.Fragment>\n      {showNavbar && <Navbar />}\n      {showContent && <Main />}\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport Web3Provider from \"./store/Web3Provider\";\nimport CollectionProvider from \"./store/CollectionProvider\";\nimport MarketplaceProvider from \"./store/MarketplaceProvider\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Web3Provider>\n    <CollectionProvider>\n      <MarketplaceProvider>\n        <App />\n      </MarketplaceProvider>\n    </CollectionProvider>\n  </Web3Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}